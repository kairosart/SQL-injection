<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Double Query Injection</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Double Query Injection</h1><br/><br />In this lesson we will learn how to perform an error-based <strong>“Double Query Injection”</strong> attack. We&#39;ll base our job on Lab 5.<br /><br />We&#39;ll use the errors to dump out the information from the database to us.<br /><br /><br /><br />a) First option.<br />    <br />    URL: http://localhost/Less-5/?id=1<br /><br />    <a href=""><img src="images/113-1.png" alt="images/113-1.png" /></a><br /><br />    Result: Instead of showing the Username and Password as in the previous sections, we get a different message “You are in..........”. We don&#39;t see any output from the databse. If you change the id number it won&#39;t change the message.<br /><br />b) Let&#39;s try to break the query.<br /><br />    URL: http://localhost/Less-5/?id=3<strong>&#39;</strong><br /><br />    <a href=""><img src="images/113-2.png" alt="images/113-2.png" /></a><br /><br />    Result: We got a Database Error.<br />    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br />    URL: http://localhost/Less-5/?id=1&#39; <strong>--+</strong><br /><br />    <a href=""><img src="images/113-3.png" alt="images/113-3.png" /></a><br /><br />    Result: No error but not data.<br />    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><br />    URL: http://localhost/Less-5/?id=1&#39; <strong>OR &#39;1</strong><br /><br />    <a href=""><img src="images/113-4.png" alt="images/113-4.png" /></a><br /><br />    Result: No error but not data.<br /><br /><br />NOTE: If we can get a Database Error the with that error we can extract the information we want,  therefore we cannot use the UNION SELECT to dump the database information.<br /><br />The only information we see reflecting back from the database on the webpage is in the form of MySQL errors. Therefore, we need to craft our queries in such a way that we are able to dump the database information through errors. The criteria for the query is that it’s syntactically correct and accepted by db driver and passed on to the backend database for execution. This query should then produce a logical error and dump information as an error string with the error returned.<p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>