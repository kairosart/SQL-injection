<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Testing in the Lab</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Testing in the Lab</h1><br/><br /><strong>NOTE<br />Before starting this lesson go to the main page and  “Setup/reset Database for labs”.</strong><br /><br />We&#39;re going to work on lesson 32 and 33.<br /><br />1. Changing different ID numbers.<br /><br />	URL: <a href="http://localhost/sqlilabs/Less-29/?id=1">http://localhost/sqli-labs/Less-32/?id=1</a>	<br /><br />	<a href=""><img src="images/195-1.png" alt="images/195-1.png" /></a><br /><br />	Result: We got Login Name and Password of any “id” number.<br /><br />2. Try to fuzz it.<br /><br />	URL: <a href="http://localhost/sqlilabs/Less-29/?id=1">http://localhost/sqli-labs/Less-32/?id=1&#39;</a>	<br /><br />	<a href=""><img src="images/195-2.png" alt="images/195-2.png" /></a><br /><br />	Result: A single quote gets escaped  with a backslash (\). Trying another characters as slash, double quote, etc. gets escaped too.<br /><br />3. Check out the code.<br /><br />	Edit the “/var/www/html/sqli-labs/Less-32/index.php” file.<br /><br /><span style="indent:1;">Ther;s a function called &quot;check_addslashes() that escapes backslash, single quote and double quote with a backslash.</span><br /><br />	<a href=""><img src="images/195-3.png" alt="images/195-3.png" /></a><br /><br />	<br />	When we put ‘ escapes to \’.<br />	When we put \ escapes to \\.<br />	When we put “ escapes to \”.<br /><br />4. Break the query.<br />    <span style="indent:1;">To bypass this scenario we can use </span>the “GBK character set”.<br /><br /><span style="indent:1;">Let&#39;s use “bf27”. When it passes through the filter it sees “bf” as one character minded this is a hex representation, so two digits represent one byte</span>. When it passes there are two different characters coming: one is “bf” and the othe “27”. <br /><br /><span style="indent:1;">The last one is code so it has to be escaped	with a slash and then put 27. It becomes like</span><br /><span style="indent:1;">(bf27) -----→ bf\27.</span><br /><br />	URL: <a href="http://localhost/sqli-labs/Less-32/?id=%bf%27">http://localhost/sqli-labs/Less-32/?id=%bf%27</a><br /><br />	<a href=""><img src="images/195-4.png" alt="images/195-4.png" /></a><br /><br /><span style="indent:1;">Result: We got a MySql error and the query is broken. You can see in the bottom line “bf5c27”</span> where “5c” is a backslash.<br /><br />5. Fix the query.<br /><br />	URL: <a href="http://localhost/sqli-labs/Less-32/?id=%bf%27">http://localhost/sqli-labs/Less-32/?id=%bf%27 union select 1,2,3 --+</a><br /><br />	<a href=""><img src="images/195-5.png" alt="images/195-5.png" /></a><br /><br />	Result: We got data from the database.<br /><br /><br />Then you can apply all the previous queries to get any kind of data.<p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>