<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Get into action</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Get into action</h1><br/><br />We&#39;re going to work on Lesson 29, 30 and 31.<br /><br />1. Changing different ID numbers.<br />   <br />    URL: <a href="http://localhost/sqlilabs/Less-29/?id=1">http://localhost:8080/sqli-labs/Less-29/?id=1</a><br /><br />	<a href=""><img src="images/193-1.png" alt="images/193-1.png" /></a><br />	<br />	Result: We got Login Name and Password of any “id” number.<br /><br />2. Try to fuzz it.<br />	 <br />	URL: <a href="http://localhost/sqlilabs/Less-29/?id=1">http://localhost:8080/sqli-labs/Less-29/?id=2&#39;</a><br /><br />	<a href=""><img src="images/193-2.png" alt="images/193-2.png" /></a><br /><br />	Result: The page redirect us to a page called “hacked.jsp”.<br /><br />	If we try another number as “1111”<br /><br />	URL: <a href="http://localhost/sqlilabs/Less-29/?id=1">http://localhost:8080/sqli-labs/Less-29/?id=1111</a><br /><br />	<a href=""><img src="images/193-3.png" alt="images/193-3.png" /></a><br /><br />	Result: It works but it doesn&#39;t return anything.<br /><br /><span style="indent:1;">With an alphanumeric parameter or a slash “\” the page redirect us to the “hacked.jsp” page.</span><br /><br /><span style="indent:1;">If we analize the page “/var/lib/apache-tomcat-7.0.108/webapps/ROOT/sqli-labs/Less-29/index.php&quot; we&#39;ll see that only digits are allowed in the query, and otherwise we&#39;re redirected to “hacked.jsp” file.</span><br /><br /><a href=""><img src="images/193-4.png" alt="images/193-4.png" /></a><br /><br /><br />3. Back to <a href="SQLi-Lab--GET_Methods--Fixing_the_Query_Commenting_out_the_query--Enumeration.html">Lesson 1</a>.<br /><br />	You can query as <a href="http://localhost/Less-1/?id=1">http://localhost/Less-1/?id=1</a> and you&#39;ll get the data of user 1.<br /><br /><span style="indent:1;">If you try this query: </span><a href="http://localhost/Less-1/?id=1&id=8">http://localhost/Less-1/?id=1&amp;id=8</a><span style="indent:1;"> you&#39;ll get the last parameter data. In this case is the “admin” data.</span><br /><br />	<a href=""><img src="images/193-5.png" alt="images/193-5.png" /></a><br /><br /><span style="indent:1;">Result: The application responds with second value (id=8), so ignore the first parameter. PHP when running on Apache gives an output of the last parameter value</span>, the rest are ignored.<br />	<br /><br />4. Bypass this problem.<br />	<br />	We have to use “<a href="SQLi-Lab--Bypassing_WAF--Impedance_Mismatch.html">Impedance Mismatch</a>”.<br />	Our lab schems is the following.<br /><br />	<a href=""><img src="images/193-6.png" alt="images/193-6.png" /></a><br /><br />	You can see the frontend technology is diffeent to the backend one.<br /><br />5. Trying with JSP.<br /><br />	Open Lesson 32 because is identical to Lesson 1 but it&#39;s prepared in JSP.<br /><br />	URL: <a href="http://localhost:8080/sqlilabs/Less-32/index.js?id=1">http://localhost:8080/sqli-labs/Less-32/index.jsp?id=1</a><br /><br />	<a href=""><img src="images/193-7.png" alt="images/193-7.png" /></a><br /><br />	Result: It gives us the samee result as in the first art of point 3.<br /><br />	URL: <a href="http://localhost:8080/sqli-labs/Less-32/index.jsp?id=1&id=8">http://localhost:8080/sqli-labs/Less-32/index.jsp?id=1&amp;id=8</a><br /><br />	<a href=""><img src="images/193-8.png" alt="images/193-8.png" /></a><br /><br /><span style="indent:1;">Result: In thisi case it takes the first value becuse is JSP (Java) page and ignore everything else if there is a reoccurrence of the same parameter.</span><br /><br />6. Try it on Lesson 29.<br /><br />	URL: <a href="http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&id=8">http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&amp;id=8</a><br />	<br />	<a href=""><img src="images/193-9.png" alt="images/193-9.png" /></a><br /><br /><span style="indent:1;">Result: We can bypass the whitelist firewall if it&#39;s suceptible to the  the “Impedance Mismatch”</span>.<br /><br />7. Inject a quote “&#39;”.<br />	<br />	URL: <a href="http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&id=8'">http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&amp;id=8&#39;</a><br /><br />	<a href=""><img src="images/193-10.png" alt="images/193-10.png" /></a><br /><br /><span style="indent:1;">Result: We&#39;ve broken the query.</span><br /><br />8. Inject any type of query.<br />	<br />	URL:: <a href="http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&id='">http://localhost:8080/sqli-labs/Less-29/index.jsp?id=1&amp;id=&#39; union select 1,2,3 -+</a><br /><br />	<a href=""><img src="images/193-11.png" alt="images/193-11.png" /></a><br /><br /><span style="indent:1;">Result: </span>We got any kind of data from the database as in previous lessons.<p align="center"><img src="images/home.svg" height="22" width="22">  <a href="index.html">Index</a></p></div></body></html>